<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.88">
  <meta name="author" content="Niklas Johannes">
  <title>Simulations in R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reveal.css">
  <style>
    .reveal .sourceCode {  /* see #7635 */
      overflow: visible;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/theme/quarto.css" id="theme">

  <script src="../../../site_libs/clipboard/clipboard.min.js"></script>
  <script src="../../../site_libs/quarto-html/tabby.min.js"></script>
  <script src="../../../site_libs/quarto-html/popper.min.js"></script>
  <script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
  <link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="../../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet">
  <link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.7em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > :last-child,
  .callout.callout-captioned .callout-body > div > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal #title-slide.center,
    .reveal .title-slide.center,
    .reveal .controls .navigate-left .controls-arrow,
    .reveal .controls .navigate-right .controls-arrow {
      margin-top: -15px;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Simulations in R</h1>
  <p class="subtitle">Power analysis through simulation in R</p>
  <p class="author">Niklas Johannes</p>
</section>

<section>
<section id="takeaways" class="title-slide slide level1 center">
<h1>Takeaways</h1>
<ul>
<li>Understand why simulations are useful</li>
<li>Logic of Monte Carlo Simulations</li>
<li>Basic tools</li>
</ul>
</section>
<section id="why-should-i-simulate" class="slide level2">
<h2>Why should I simulate</h2>
<ul>
<li>Cooking vs.&nbsp;eating</li>
<li>Makes you truly understand what you’re doing</li>
<li>Forces you to put a number on things</li>
<li>Simulate the data generating process (we’ll get back to that)</li>
</ul>
</section>
<section id="going-through-the-motions" class="slide level2">
<h2>Going through the motions</h2>
<ul>
<li>You’ll often find that you don’t know nearly enough for a prediction–or even a study</li>
<li>If we can’t generate the pattern we’re interested in how can we explain a pattern?</li>
<li>I take a proper description over a flawed confirmation</li>
</ul>
</section>
<section id="technicalities" class="slide level2">
<h2>Technicalities</h2>
<p>Above all, you want to be able to reproduce your analysis–much later, on a different computer, etc. <span class="citation" data-cites="trisovic2022">(<a href="#/ref-trisovic2022" role="doc-biblioref" onclick="return false;">Trisovic et al. 2022</a>)</span></p>

<img data-src="dependencies.jpg" class="r-stretch"></section>
<section id="computational-reproducibility" class="slide level2">
<h2>Computational reproducibility</h2>
<ul>
<li><a href="https://www.docker.com/" data-preview-link="true">Environment</a></li>
<li><a href="https://rstudio.github.io/renv/articles/renv.html" data-preview-link="true">Packages for project</a></li>
<li><a href="http://datacolada.org/95" data-preview-link="&quot;true">Packages for script</a></li>
<li><a href="https://happygitwithr.com/" data-preview-link="true">Version control</a></li>
</ul>
</section>
<section id="for-now" class="slide level2">
<h2>For now</h2>
<ul>
<li><code>set.seed()</code>: Reproduce random numbers within same script</li>
<li><code>sessionInfo()</code>: Prints computational environment</li>
<li>Relative paths (<a href="https://here.r-lib.org/" data-preview-link="true">here package</a>)</li>
<li>Explicit caching or markdown</li>
</ul>
</section>
<section id="monte-carlo-simulations" class="slide level2">
<h2>Monte Carlo simulations</h2>
<blockquote>
<p>Monte Carlo methods, or Monte Carlo experiments, are a broad class of computational algorithms that rely on repeated random sampling to obtain numerical results. The underlying concept is to use randomness to solve problems that might be deterministic in principle. <a href="https://en.wikipedia.org/wiki/Monte_Carlo_method">Wikipedia</a></p>
</blockquote>

<img data-src="https://miro.medium.com/max/1400/1*zeE59zfjRJmIngwvJsvMRQ.png" class="r-stretch quarto-figure-center"><div class="aside">
<p><a href="https://towardsdatascience.com/monte-carlo-simulation-in-r-with-focus-on-financial-data-ad43e2a4aedf?gi=6fb071654f81">Source</a></p>
</div>
</section>
<section id="in-plain-english" class="slide level2">
<h2>In plain English</h2>
<ul>
<li>Define relevant outcome, the process leading to outcome, and potential inputs that go into the process</li>
<li>Then decide what inputs you want to vary</li>
<li>Run the process many, many times, with different inputs, summarize and plot the outcomes</li>
</ul>
</section>
<section id="a-simple-example" class="slide level2">
<h2>A simple example</h2>
<p>Totally unrelated to why you are here:</p>
<ul>
<li>Outcome: How much power do I have?</li>
<li>Process: The statistical test I plan to do</li>
<li>Inputs: Effect size, sample size, <span class="math inline">\(\alpha\)</span></li>
</ul>
</section>
<section id="some-basic-commands-first" class="slide level2">
<h2>Some basic commands first</h2>
<p>Sampling a certain number of elements from a set.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>my_sample <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">sample</span>(</span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="at">x =</span> my_sample,</span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="at">size =</span> <span class="dv">2</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1]  2 16</code></pre>
</div>
</div>
</section>
<section id="sampling" class="slide level2">
<h2>Sampling</h2>
<p>With or without replacement?</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>my_sample <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">sample</span>(</span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="at">x =</span> my_sample,</span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="at">size =</span> <span class="dv">4</span>,</span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="at">replace =</span> <span class="cn">TRUE</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "b" "c" "a" "c"</code></pre>
</div>
</div>
</section>
<section id="on-those-letters" class="slide level2">
<h2>On those letters</h2>
<p>R has some neat built-in stuff.</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>letters[<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "e"</code></pre>
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>letters[<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "g" "h" "i" "j"</code></pre>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>LETTERS[<span class="dv">20</span><span class="sc">:</span><span class="dv">26</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "T" "U" "V" "W" "X" "Y" "Z"</code></pre>
</div>
</div>
</section>
<section id="sampling-1" class="slide level2">
<h2>Sampling</h2>
<p>Using those letters.</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>my_sample <span class="ot">&lt;-</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="fu">sample</span>(</span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="at">x =</span> my_sample,</span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="at">size =</span> <span class="dv">4</span>,</span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="at">replace =</span> <span class="cn">TRUE</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "a" "a" "c" "a"</code></pre>
</div>
</div>
</section>
<section id="sampling-2" class="slide level2">
<h2>Sampling</h2>
<p>Assigning different probabilities.</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>my_sample <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"black"</span>, <span class="st">"blue"</span>)</span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="fu">sample</span>(</span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="at">x =</span> my_sample,</span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="at">replace =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-7"><a href="#cb13-7"></a>  <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.8</span>)</span>
<span id="cb13-8"><a href="#cb13-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] "blue"  "black" "blue"  "blue"  "blue"  "black" "blue"  "blue"  "blue" 
[10] "blue" </code></pre>
</div>
</div>
</section>
<section id="remember-seeds" class="slide level2">
<h2>Remember seeds?</h2>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>my_sample <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"black"</span>, <span class="st">"blue"</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="fu">sample</span>(</span>
<span id="cb15-5"><a href="#cb15-5"></a>  <span class="at">x =</span> my_sample,</span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="at">replace =</span> <span class="cn">TRUE</span>,</span>
<span id="cb15-8"><a href="#cb15-8"></a>  <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.8</span>)</span>
<span id="cb15-9"><a href="#cb15-9"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] "black" "black" "blue"  "black" "blue"  "blue"  "blue"  "blue"  "blue" 
[10] "blue" </code></pre>
</div>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">sample</span>(</span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="at">x =</span> my_sample,</span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="at">replace =</span> <span class="cn">TRUE</span>,</span>
<span id="cb17-6"><a href="#cb17-6"></a>  <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.8</span>)</span>
<span id="cb17-7"><a href="#cb17-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] "black" "black" "blue"  "black" "blue"  "blue"  "blue"  "blue"  "blue" 
[10] "blue" </code></pre>
</div>
</div>
</section>
<section id="how-do-we-generate-randomness" class="slide level2">
<h2>How do we generate randomness?</h2>
<p>Built-in R functions that create a random number following a process with a given probability distribution.</p>
<ul>
<li><code>rnorm</code>: Normal distribution</li>
<li><code>rbinom</code>: Binomial distribution</li>
<li><code>rpois</code>: Poissong distribution</li>
<li><code>runif</code>: Uniform distribution</li>
</ul>
</section>
<section id="normal-distribution" class="slide level2">
<h2>Normal distribution</h2>
<p>Draw n numbers from a normal distribution.</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">rnorm</span>(</span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="at">mean =</span> <span class="dv">0</span>,</span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="at">sd =</span> <span class="dv">1</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] -0.10612452  1.51152200 -0.09465904  2.01842371 -0.06271410</code></pre>
</div>
</div>
</section>
<section id="once-more-seed" class="slide level2">
<h2>Once more: seed</h2>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">rnorm</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 1.30487</code></pre>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">rnorm</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 2.286645</code></pre>
</div>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="fu">rnorm</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 1.370958</code></pre>
</div>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="fu">rnorm</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 1.370958</code></pre>
</div>
</div>
</section>
<section id="r-uses-vectors" class="slide level2">
<h2>R uses vectors</h2>
<p>Gives us 4 draws total: 1 draw from a normal distribution with mean = 0 and sd = 1, 1 draw from a normal distribution with mean = 10 and sd = 50, and so on.</p>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">rnorm</span>(</span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="at">n =</span> <span class="dv">4</span>,</span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="at">mean =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>),</span>
<span id="cb29-4"><a href="#cb29-4"></a>  <span class="at">sd =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">150</span>)</span>
<span id="cb29-5"><a href="#cb29-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] -0.5646982 28.1564206 83.2862605 90.6402485</code></pre>
</div>
</div>
</section>
<section id="what-would-i-use-this-for" class="slide level2">
<h2>What would I use this for?</h2>
<p>Simulating different groups.</p>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>control <span class="ot">&lt;-</span> </span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">rnorm</span>(</span>
<span id="cb31-3"><a href="#cb31-3"></a>    <span class="at">n =</span> <span class="dv">100</span>,</span>
<span id="cb31-4"><a href="#cb31-4"></a>    <span class="at">mean =</span> <span class="dv">100</span>,</span>
<span id="cb31-5"><a href="#cb31-5"></a>    <span class="at">sd =</span> <span class="dv">15</span></span>
<span id="cb31-6"><a href="#cb31-6"></a>  )</span>
<span id="cb31-7"><a href="#cb31-7"></a></span>
<span id="cb31-8"><a href="#cb31-8"></a>treatment <span class="ot">&lt;-</span> </span>
<span id="cb31-9"><a href="#cb31-9"></a>  <span class="fu">rnorm</span>(</span>
<span id="cb31-10"><a href="#cb31-10"></a>    <span class="at">n =</span> <span class="dv">100</span>,</span>
<span id="cb31-11"><a href="#cb31-11"></a>    <span class="at">mean =</span> <span class="dv">150</span>,</span>
<span id="cb31-12"><a href="#cb31-12"></a>    <span class="at">sd =</span> <span class="dv">15</span></span>
<span id="cb31-13"><a href="#cb31-13"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="what-would-i-use-this-for-1" class="slide level2">
<h2>What would I use this for?</h2>
<p>Simulating different groups.</p>
<div class="cell">
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">boxplot</span>(control, treatment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-22-1.png" width="960" class="r-stretch"></section>
<section id="what-would-i-use-this-for-2" class="slide level2">
<h2>What would I use this for?</h2>
<p>Simulating a correlation.</p>
<div class="cell">
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>control <span class="ot">&lt;-</span> </span>
<span id="cb33-2"><a href="#cb33-2"></a>  <span class="fu">rnorm</span>(</span>
<span id="cb33-3"><a href="#cb33-3"></a>    <span class="at">n =</span> <span class="dv">1000</span>,</span>
<span id="cb33-4"><a href="#cb33-4"></a>    <span class="at">mean =</span> <span class="dv">100</span>,</span>
<span id="cb33-5"><a href="#cb33-5"></a>    <span class="at">sd =</span> <span class="dv">15</span></span>
<span id="cb33-6"><a href="#cb33-6"></a>  )</span>
<span id="cb33-7"><a href="#cb33-7"></a></span>
<span id="cb33-8"><a href="#cb33-8"></a>treatment <span class="ot">&lt;-</span> </span>
<span id="cb33-9"><a href="#cb33-9"></a>  control<span class="sc">*</span><span class="fl">0.5</span> <span class="sc">+</span> <span class="fu">rnorm</span>(</span>
<span id="cb33-10"><a href="#cb33-10"></a>    <span class="at">n =</span> <span class="dv">1000</span>,</span>
<span id="cb33-11"><a href="#cb33-11"></a>    <span class="at">mean =</span> <span class="dv">100</span>,</span>
<span id="cb33-12"><a href="#cb33-12"></a>    <span class="at">sd =</span> <span class="dv">15</span></span>
<span id="cb33-13"><a href="#cb33-13"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="what-would-i-use-this-for-3" class="slide level2">
<h2>What would I use this for?</h2>
<div class="cell">
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(treatment<span class="sc">~</span>control))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>
Call:
lm(formula = treatment ~ control)

Residuals:
    Min      1Q  Median      3Q     Max 
-42.531  -9.904  -0.444  10.315  53.874 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 100.71554    3.15133   31.96   &lt;2e-16 ***
control       0.49205    0.03129   15.72   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 14.86 on 998 degrees of freedom
Multiple R-squared:  0.1985,    Adjusted R-squared:  0.1977 
F-statistic: 247.2 on 1 and 998 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="teaser-for-later" class="slide level2">
<h2>Teaser for later</h2>
<p>Same data, different conventions.</p>
<div class="columns">
<div class="column">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-28-1.png" width="960"></p>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-30-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="uniform-distribution" class="slide level2">
<h2>Uniform distribution</h2>
<p>Draw n numbers from a uniform distribution.</p>
<div class="cell">
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">runif</span>(</span>
<span id="cb36-2"><a href="#cb36-2"></a>  <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb36-3"><a href="#cb36-3"></a>  <span class="at">min =</span> <span class="dv">0</span>,</span>
<span id="cb36-4"><a href="#cb36-4"></a>  <span class="at">max =</span> <span class="dv">1</span></span>
<span id="cb36-5"><a href="#cb36-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 0.06866080 0.05036072 0.98707779 0.63460261 0.94782652</code></pre>
</div>
</div>
</section>
<section id="lets-inspect-that" class="slide level2">
<h2>Let’s inspect that</h2>
<div class="cell">
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">hist</span>(<span class="fu">runif</span>(<span class="dv">1000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-34-1.png" width="960" class="r-stretch"></section>
<section id="what-would-i-use-this-for-4" class="slide level2">
<h2>What would I use this for?</h2>
<p>Keeping a range on predictor variables.</p>
<div class="cell">
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>age <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="at">n =</span> <span class="dv">1000</span>, <span class="at">min =</span> <span class="dv">18</span>, <span class="at">max =</span> <span class="dv">100</span>)</span>
<span id="cb39-2"><a href="#cb39-2"></a></span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="fu">hist</span>(age, <span class="at">breaks =</span> <span class="dv">30</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">100</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-36-1.png" width="960" class="r-stretch"></section>
<section id="what-would-i-use-this-for-5" class="slide level2">
<h2>What would I use this for?</h2>
<p>Keeping a range on predictor variables.</p>
<div class="cell">
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>age <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="at">n =</span> <span class="dv">1000</span>, <span class="at">min =</span> <span class="dv">18</span>, <span class="at">max =</span> <span class="dv">100</span>)</span>
<span id="cb40-2"><a href="#cb40-2"></a>y <span class="ot">&lt;-</span> age<span class="sc">*</span><span class="fl">0.5</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>)</span>
<span id="cb40-3"><a href="#cb40-3"></a></span>
<span id="cb40-4"><a href="#cb40-4"></a><span class="fu">summary</span>(<span class="fu">lm</span>(y<span class="sc">~</span>age))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>
Call:
lm(formula = y ~ age)

Residuals:
    Min      1Q  Median      3Q     Max 
-3.0665 -0.6815 -0.0112  0.6320  3.4804 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -0.026915   0.082359  -0.327    0.744    
age          0.499389   0.001297 384.986   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.9858 on 998 degrees of freedom
Multiple R-squared:  0.9933,    Adjusted R-squared:  0.9933 
F-statistic: 1.482e+05 on 1 and 998 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="binomial-distribution" class="slide level2">
<h2>Binomial distribution</h2>
<p>Let’s flip a coin 100 times. That’s one “experiment”. How often will I get heads?</p>
<div class="cell">
<div class="sourceCode" id="cb42"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">rbinom</span>(</span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="at">n =</span> <span class="dv">1</span>,</span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="at">size =</span> <span class="dv">100</span>,</span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="at">prob =</span> <span class="fl">0.50</span></span>
<span id="cb42-5"><a href="#cb42-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 43</code></pre>
</div>
</div>
</section>
<section id="many-experiments" class="slide level2">
<h2>Many experiments</h2>
<p>Let’s run 1000 experiments where we flip a coin 100 times each.</p>
<div class="cell">
<div class="sourceCode" id="cb44"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>experiments <span class="ot">&lt;-</span> </span>
<span id="cb44-2"><a href="#cb44-2"></a>  <span class="fu">rbinom</span>(</span>
<span id="cb44-3"><a href="#cb44-3"></a>    <span class="at">n =</span> <span class="dv">1000</span>,</span>
<span id="cb44-4"><a href="#cb44-4"></a>    <span class="at">size =</span> <span class="dv">100</span>,</span>
<span id="cb44-5"><a href="#cb44-5"></a>    <span class="at">prob =</span> <span class="fl">0.50</span></span>
<span id="cb44-6"><a href="#cb44-6"></a>  )</span>
<span id="cb44-7"><a href="#cb44-7"></a></span>
<span id="cb44-8"><a href="#cb44-8"></a><span class="fu">head</span>(experiments)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 46 56 49 48 53 58</code></pre>
</div>
</div>
</section>
<section id="always-inspect-and-summarize" class="slide level2">
<h2>Always inspect and summarize</h2>
<p>Makes sense.</p>
<div class="cell">
<div class="sourceCode" id="cb46"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">hist</span>(experiments, <span class="at">breaks =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-44-1.png" width="960" class="r-stretch"></section>
<section id="what-would-i-use-this-for-6" class="slide level2">
<h2>What would I use this for?</h2>
<p>Compare groups on their probabilities.</p>
<div class="cell">
<div class="sourceCode" id="cb47"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>control <span class="ot">&lt;-</span> </span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">rbinom</span>(</span>
<span id="cb47-3"><a href="#cb47-3"></a>    <span class="at">n =</span> <span class="dv">100</span>,</span>
<span id="cb47-4"><a href="#cb47-4"></a>    <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb47-5"><a href="#cb47-5"></a>    <span class="at">prob =</span> <span class="fl">0.5</span></span>
<span id="cb47-6"><a href="#cb47-6"></a>  )</span>
<span id="cb47-7"><a href="#cb47-7"></a></span>
<span id="cb47-8"><a href="#cb47-8"></a>treatment <span class="ot">&lt;-</span> </span>
<span id="cb47-9"><a href="#cb47-9"></a>  <span class="fu">rbinom</span>(</span>
<span id="cb47-10"><a href="#cb47-10"></a>    <span class="at">n =</span> <span class="dv">100</span>,</span>
<span id="cb47-11"><a href="#cb47-11"></a>    <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb47-12"><a href="#cb47-12"></a>    <span class="at">prob =</span> <span class="fl">0.9</span></span>
<span id="cb47-13"><a href="#cb47-13"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="what-would-i-use-this-for-7" class="slide level2">
<h2>What would I use this for?</h2>
<p>Compare groups on their probabilities.</p>
<div class="cell">
<div class="sourceCode" id="cb48"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="fu">boxplot</span>(control, treatment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-48-1.png" width="960" class="r-stretch"></section>
<section id="what-would-i-use-this-for-8" class="slide level2">
<h2>What would I use this for?</h2>
<p>Bernoulli trials.</p>
<div class="cell">
<div class="sourceCode" id="cb49"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">rbinom</span>(</span>
<span id="cb49-2"><a href="#cb49-2"></a>  <span class="at">n =</span> <span class="dv">10</span>,</span>
<span id="cb49-3"><a href="#cb49-3"></a>  <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb49-4"><a href="#cb49-4"></a>  <span class="at">prob =</span> <span class="fl">0.5</span></span>
<span id="cb49-5"><a href="#cb49-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] 1 0 0 1 0 0 1 0 1 0</code></pre>
</div>
</div>
</section>
<section id="what-would-i-use-this-for-9" class="slide level2">
<h2>What would I use this for?</h2>
<p>Bernoulli trials and logistic regression: Does age predict our binary outcome? (Explanation <a href="https://data.library.virginia.edu/simulating-a-logistic-regression-model/">here</a>.)</p>
<div class="cell">
<div class="sourceCode" id="cb51"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>age <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">10000</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">15</span>)</span>
<span id="cb51-2"><a href="#cb51-2"></a></span>
<span id="cb51-3"><a href="#cb51-3"></a>xb <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="fl">0.2</span><span class="sc">*</span>age</span>
<span id="cb51-4"><a href="#cb51-4"></a></span>
<span id="cb51-5"><a href="#cb51-5"></a>p <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span>(<span class="dv">1</span> <span class="sc">+</span> <span class="fu">exp</span>(<span class="sc">-</span>xb))</span>
<span id="cb51-6"><a href="#cb51-6"></a></span>
<span id="cb51-7"><a href="#cb51-7"></a>y <span class="ot">&lt;-</span> </span>
<span id="cb51-8"><a href="#cb51-8"></a>  <span class="fu">rbinom</span>(</span>
<span id="cb51-9"><a href="#cb51-9"></a>    <span class="at">n =</span> <span class="dv">10000</span>,</span>
<span id="cb51-10"><a href="#cb51-10"></a>    <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb51-11"><a href="#cb51-11"></a>    <span class="at">prob =</span> p</span>
<span id="cb51-12"><a href="#cb51-12"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="what-would-i-use-this-for-10" class="slide level2">
<h2>What would I use this for?</h2>
<div class="cell">
<div class="sourceCode" id="cb52"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>m <span class="ot">&lt;-</span> </span>
<span id="cb52-2"><a href="#cb52-2"></a>  <span class="fu">glm</span>(</span>
<span id="cb52-3"><a href="#cb52-3"></a>    y <span class="sc">~</span> age,</span>
<span id="cb52-4"><a href="#cb52-4"></a>    <span class="at">family =</span> <span class="fu">binomial</span>()</span>
<span id="cb52-5"><a href="#cb52-5"></a>  )</span>
<span id="cb52-6"><a href="#cb52-6"></a></span>
<span id="cb52-7"><a href="#cb52-7"></a><span class="fu">summary</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>
Call:
glm(formula = y ~ age, family = binomial())

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-3.6531   0.0002   0.0011   0.0047   1.0001  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)  0.13900    0.56322   0.247    0.805    
age          0.28512    0.04927   5.787 7.18e-09 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 171.86  on 9999  degrees of freedom
Residual deviance:  66.03  on 9998  degrees of freedom
AIC: 70.03

Number of Fisher Scoring iterations: 13</code></pre>
</div>
</div>
</section>
<section id="poisson-distribution" class="slide level2">
<h2>Poisson distribution</h2>
<p>Let’s see how many emails we get in an hour. We check for 10 different hours.</p>
<div class="cell">
<div class="sourceCode" id="cb54"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="fu">rpois</span>(</span>
<span id="cb54-2"><a href="#cb54-2"></a>  <span class="at">n =</span> <span class="dv">10</span>,</span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="at">lambda =</span> <span class="dv">5</span></span>
<span id="cb54-4"><a href="#cb54-4"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] 3 4 5 2 8 5 7 5 5 5</code></pre>
</div>
</div>
</section>
<section id="lets-visualize" class="slide level2">
<h2>Let’s visualize</h2>
<div class="cell">
<div class="sourceCode" id="cb56"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>emails <span class="ot">&lt;-</span> </span>
<span id="cb56-2"><a href="#cb56-2"></a>  <span class="fu">rpois</span>(</span>
<span id="cb56-3"><a href="#cb56-3"></a>    <span class="at">n =</span> <span class="dv">1000</span>,</span>
<span id="cb56-4"><a href="#cb56-4"></a>    <span class="at">lambda =</span> <span class="dv">5</span></span>
<span id="cb56-5"><a href="#cb56-5"></a>  )</span>
<span id="cb56-6"><a href="#cb56-6"></a></span>
<span id="cb56-7"><a href="#cb56-7"></a><span class="fu">hist</span>(emails)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-58-1.png" width="960" class="r-stretch"></section>
<section id="why-would-you-use-this" class="slide level2">
<h2>Why would you use this?</h2>
<p>Compare two groups on how many emails they get.</p>
<div class="cell">
<div class="sourceCode" id="cb57"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>hr <span class="ot">&lt;-</span> <span class="fu">rpois</span>(<span class="at">n =</span> <span class="dv">1000</span>, <span class="at">lambda =</span> <span class="dv">5</span>)</span>
<span id="cb57-2"><a href="#cb57-2"></a>it <span class="ot">&lt;-</span> <span class="fu">rpois</span>(<span class="at">n =</span> <span class="dv">1000</span>, <span class="at">lambda =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode" id="cb58"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">hist</span>(hr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-62-1.png" width="960"></p>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="sourceCode" id="cb59"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="fu">hist</span>(it)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-64-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="what-would-i-use-this-for-11" class="slide level2">
<h2>What would I use this for?</h2>
<p>Poisson regression. (More on <code>rep</code> in a moment.)</p>
<div class="cell">
<div class="sourceCode" id="cb60"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>d <span class="ot">&lt;-</span> </span>
<span id="cb60-2"><a href="#cb60-2"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb60-3"><a href="#cb60-3"></a>    <span class="at">emails =</span> <span class="fu">c</span>(hr, it),</span>
<span id="cb60-4"><a href="#cb60-4"></a>    <span class="at">group =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"HR"</span>, <span class="st">"IT"</span>), <span class="at">each =</span> <span class="dv">1000</span>))</span>
<span id="cb60-5"><a href="#cb60-5"></a>  )</span>
<span id="cb60-6"><a href="#cb60-6"></a></span>
<span id="cb60-7"><a href="#cb60-7"></a>d[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1001</span><span class="sc">:</span><span class="dv">1005</span>),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>     emails group
1         5    HR
2         7    HR
3         4    HR
4         8    HR
5         2    HR
1001     10    IT
1002      9    IT
1003      5    IT
1004      6    IT
1005      7    IT</code></pre>
</div>
</div>
</section>
<section id="what-would-i-use-this-for-12" class="slide level2">
<h2>What would I use this for?</h2>
<div class="cell">
<div class="sourceCode" id="cb62"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>m <span class="ot">&lt;-</span> </span>
<span id="cb62-2"><a href="#cb62-2"></a>  <span class="fu">glm</span>(</span>
<span id="cb62-3"><a href="#cb62-3"></a>    emails <span class="sc">~</span> group,</span>
<span id="cb62-4"><a href="#cb62-4"></a>    <span class="at">data =</span> d,</span>
<span id="cb62-5"><a href="#cb62-5"></a>    <span class="at">family =</span> <span class="fu">poisson</span>()</span>
<span id="cb62-6"><a href="#cb62-6"></a>  )</span>
<span id="cb62-7"><a href="#cb62-7"></a></span>
<span id="cb62-8"><a href="#cb62-8"></a><span class="fu">summary</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>
Call:
glm(formula = emails ~ group, family = poisson(), data = d)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-3.6837  -0.6850  -0.0559   0.5814   2.9916  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)  1.63433    0.01397  117.01   &lt;2e-16 ***
groupIT      0.67791    0.01715   39.53   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 3652.0  on 1999  degrees of freedom
Residual deviance: 1998.5  on 1998  degrees of freedom
AIC: 9517.7

Number of Fisher Scoring iterations: 4</code></pre>
</div>
</div>
</section>
<section id="making-data-sets-with-rep" class="slide level2">
<h2>Making data sets with <code>rep</code></h2>
<p>Replicates numbers and characters.</p>
<div class="cell">
<div class="sourceCode" id="cb64"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="fu">rep</span>(</span>
<span id="cb64-2"><a href="#cb64-2"></a>  <span class="at">x =</span> <span class="st">"Control Group"</span>,</span>
<span id="cb64-3"><a href="#cb64-3"></a>  <span class="at">times =</span> <span class="dv">3</span></span>
<span id="cb64-4"><a href="#cb64-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "Control Group" "Control Group" "Control Group"</code></pre>
</div>
<div class="sourceCode" id="cb66"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">rep</span>(</span>
<span id="cb66-2"><a href="#cb66-2"></a>  <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb66-3"><a href="#cb66-3"></a>  <span class="at">times =</span> <span class="dv">3</span></span>
<span id="cb66-4"><a href="#cb66-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 1 1 1</code></pre>
</div>
</div>
</section>
<section id="making-data-sets-with-rep-1" class="slide level2">
<h2>Making data sets with <code>rep</code></h2>
<p>Replicates an entire vector several times.</p>
<div class="cell">
<div class="sourceCode" id="cb68"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="fu">rep</span>(</span>
<span id="cb68-2"><a href="#cb68-2"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">"Control Group"</span>, <span class="st">"Treatment Group"</span>),</span>
<span id="cb68-3"><a href="#cb68-3"></a>  <span class="at">times =</span> <span class="dv">3</span></span>
<span id="cb68-4"><a href="#cb68-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "Control Group"   "Treatment Group" "Control Group"   "Treatment Group"
[5] "Control Group"   "Treatment Group"</code></pre>
</div>
</div>
</section>
<section id="making-data-sets-with-rep-2" class="slide level2">
<h2>Making data sets with <code>rep</code></h2>
<p>Replicate different elements different times.</p>
<div class="cell">
<div class="sourceCode" id="cb70"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a><span class="fu">rep</span>(</span>
<span id="cb70-2"><a href="#cb70-2"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">"Control Group"</span>, <span class="st">"Treatment Group"</span>),</span>
<span id="cb70-3"><a href="#cb70-3"></a>  <span class="at">times =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)</span>
<span id="cb70-4"><a href="#cb70-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "Control Group"   "Treatment Group" "Treatment Group"</code></pre>
</div>
</div>
</section>
<section id="making-data-sets-with-rep-3" class="slide level2">
<h2>Making data sets with <code>rep</code></h2>
<p>Replicates an entire vector several times.</p>
<div class="cell">
<div class="sourceCode" id="cb72"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="fu">rep</span>(</span>
<span id="cb72-2"><a href="#cb72-2"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">"Control Group"</span>, <span class="st">"Treatment Group"</span>),</span>
<span id="cb72-3"><a href="#cb72-3"></a>  <span class="at">each =</span> <span class="dv">3</span></span>
<span id="cb72-4"><a href="#cb72-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "Control Group"   "Control Group"   "Control Group"   "Treatment Group"
[5] "Treatment Group" "Treatment Group"</code></pre>
</div>
</div>
</section>
<section id="making-data-sets-with-rep-4" class="slide level2">
<h2>Making data sets with <code>rep</code></h2>
<p>Controlling the length of our output.</p>
<div class="cell">
<div class="sourceCode" id="cb74"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="fu">rep</span>(</span>
<span id="cb74-2"><a href="#cb74-2"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">"Control Group"</span>, <span class="st">"Treatment Group"</span>),</span>
<span id="cb74-3"><a href="#cb74-3"></a>  <span class="at">each =</span> <span class="dv">3</span>,</span>
<span id="cb74-4"><a href="#cb74-4"></a>  <span class="at">length.out =</span> <span class="dv">4</span></span>
<span id="cb74-5"><a href="#cb74-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "Control Group"   "Control Group"   "Control Group"   "Treatment Group"</code></pre>
</div>
</div>
</section>
<section id="making-data-sets-with-rep-5" class="slide level2">
<h2>Making data sets with <code>rep</code></h2>
<p>Combining <code>times</code> with <code>each</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb76"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="fu">rep</span>(</span>
<span id="cb76-2"><a href="#cb76-2"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">"Control Group"</span>, <span class="st">"Treatment Group"</span>),</span>
<span id="cb76-3"><a href="#cb76-3"></a>  <span class="at">each =</span> <span class="dv">3</span>,</span>
<span id="cb76-4"><a href="#cb76-4"></a>  <span class="at">times =</span> <span class="dv">2</span></span>
<span id="cb76-5"><a href="#cb76-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] "Control Group"   "Control Group"   "Control Group"   "Treatment Group"
 [5] "Treatment Group" "Treatment Group" "Control Group"   "Control Group"  
 [9] "Control Group"   "Treatment Group" "Treatment Group" "Treatment Group"</code></pre>
</div>
</div>
</section>
<section id="what-would-i-use-this-for-13" class="slide level2">
<h2>What would I use this for?</h2>
<p>Let’s create a group.</p>
<div class="cell">
<div class="sourceCode" id="cb78"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>condition <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"control"</span>, <span class="at">each =</span> <span class="dv">4</span>)</span>
<span id="cb78-2"><a href="#cb78-2"></a>outcome <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">4</span>)</span>
<span id="cb78-3"><a href="#cb78-3"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(condition, outcome)</span>
<span id="cb78-4"><a href="#cb78-4"></a>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>  condition     outcome
1   control -0.04723942
2   control -0.12307634
3   control  1.11130209
4   control  1.07619064</code></pre>
</div>
</div>
</section>
<section id="what-would-i-use-this-for-14" class="slide level2">
<h2>What would I use this for?</h2>
<p>Let’s create two groups.</p>
<div class="cell">
<div class="sourceCode" id="cb80"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>condition <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"control"</span>, <span class="st">"treatment"</span>), <span class="at">each =</span> <span class="dv">2</span>)</span>
<span id="cb80-2"><a href="#cb80-2"></a>outcome <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">4</span>)</span>
<span id="cb80-3"><a href="#cb80-3"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(condition, outcome)</span>
<span id="cb80-4"><a href="#cb80-4"></a>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>  condition       outcome
1   control  0.0313900684
2   control  0.0001993327
3 treatment -0.7676236790
4 treatment  0.8964049160</code></pre>
</div>
</div>
</section></section>
<section>
<section id="interlude-first-short-exercises" class="title-slide slide level1 center">
<h1>Interlude: First short exercises</h1>

</section>
<section id="different-groups" class="slide level2">
<h2>Different groups</h2>
<p>Two groups from different distributions.</p>
<div class="cell">
<div class="sourceCode" id="cb82"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>control_outcome <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>, <span class="dv">100</span>, <span class="dv">15</span>)</span>
<span id="cb82-2"><a href="#cb82-2"></a>treatment_outcome <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>, <span class="dv">115</span>, <span class="dv">15</span>)</span>
<span id="cb82-3"><a href="#cb82-3"></a></span>
<span id="cb82-4"><a href="#cb82-4"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">outcome =</span> <span class="fu">c</span>(control_outcome, treatment_outcome))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="different-groups-1" class="slide level2">
<h2>Different groups</h2>
<p>Now we add group membership.</p>
<div class="cell">
<div class="sourceCode" id="cb83"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>control_outcome <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>, <span class="dv">100</span>, <span class="dv">15</span>)</span>
<span id="cb83-2"><a href="#cb83-2"></a>treatment_outcome <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>, <span class="dv">115</span>, <span class="dv">15</span>)</span>
<span id="cb83-3"><a href="#cb83-3"></a>condition <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"control"</span>, <span class="st">"treatment"</span>), <span class="at">each =</span> <span class="dv">5</span>)</span>
<span id="cb83-4"><a href="#cb83-4"></a></span>
<span id="cb83-5"><a href="#cb83-5"></a></span>
<span id="cb83-6"><a href="#cb83-6"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb83-7"><a href="#cb83-7"></a>  <span class="at">condition =</span> condition,</span>
<span id="cb83-8"><a href="#cb83-8"></a>  <span class="at">outcome =</span> <span class="fu">c</span>(control_outcome, treatment_outcome)</span>
<span id="cb83-9"><a href="#cb83-9"></a>)</span>
<span id="cb83-10"><a href="#cb83-10"></a>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>   condition   outcome
1    control 102.60947
2    control 105.91958
3    control 140.17591
4    control  89.69311
5    control  94.72799
6  treatment 122.12078
7  treatment 120.31591
8  treatment 118.34136
9  treatment  91.22117
10 treatment  94.38544</code></pre>
</div>
</div>
</section>
<section id="remember-vectors" class="slide level2">
<h2>Remember vectors?</h2>
<p>Gets us there faster.</p>
<div class="cell">
<div class="sourceCode" id="cb85"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>d <span class="ot">&lt;-</span> </span>
<span id="cb85-2"><a href="#cb85-2"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb85-3"><a href="#cb85-3"></a>    <span class="at">condition =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"control"</span>, <span class="st">"treatment"</span>), <span class="at">times =</span> <span class="dv">5</span>),</span>
<span id="cb85-4"><a href="#cb85-4"></a>    <span class="at">outcome =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">115</span>), <span class="at">sd =</span> <span class="dv">15</span>)</span>
<span id="cb85-5"><a href="#cb85-5"></a>  )</span>
<span id="cb85-6"><a href="#cb85-6"></a>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>   condition   outcome
1    control  88.88867
2  treatment 118.51307
3    control  98.56411
4  treatment  99.00802
5    control  75.87184
6  treatment 129.97625
7    control  91.31636
8  treatment 120.37524
9    control  94.46493
10 treatment 125.81974</code></pre>
</div>
</div>
</section>
<section id="now-how-do-we-get-to-monte-carlo" class="slide level2">
<h2>Now how do we get to Monte Carlo?</h2>
<p>Creating one “data set” isn’t enough. We need many more.</p>
<div class="cell">
<div class="sourceCode" id="cb87"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="fu">replicate</span>(</span>
<span id="cb87-2"><a href="#cb87-2"></a>  <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb87-3"><a href="#cb87-3"></a>  <span class="at">expr =</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">size =</span> <span class="dv">2</span>),</span>
<span id="cb87-4"><a href="#cb87-4"></a>  <span class="at">simplify =</span> <span class="cn">FALSE</span></span>
<span id="cb87-5"><a href="#cb87-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[[1]]
[1] 1 3

[[2]]
[1] 3 4

[[3]]
[1] 1 3

[[4]]
[1] 2 3

[[5]]
[1] 3 2</code></pre>
</div>
</div>
</section>
<section id="replicating-variables" class="slide level2">
<h2>Replicating variables</h2>
<p>Creating one “data set” isn’t enough. We need many more.</p>
<div class="cell">
<div class="sourceCode" id="cb89"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a><span class="fu">replicate</span>(</span>
<span id="cb89-2"><a href="#cb89-2"></a>  <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb89-3"><a href="#cb89-3"></a>  <span class="at">expr =</span> <span class="fu">rnorm</span>(<span class="dv">5</span>),</span>
<span id="cb89-4"><a href="#cb89-4"></a>  <span class="at">simplify =</span> <span class="cn">FALSE</span></span>
<span id="cb89-5"><a href="#cb89-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[[1]]
[1] -1.24072975 -0.13173024  1.39906593  0.08828747  0.40500180

[[2]]
[1]  0.3126241 -0.1319878  0.4697315  0.4992376 -0.6715315

[[3]]
[1] -0.2262588 -0.1617954 -1.3745364 -1.1833134  0.8182783

[[4]]
[1]  1.2439504  1.5819136  0.6209595 -1.4514988  1.3820336

[[5]]
[1] -0.3496984  0.5724784  2.2198495 -1.2908316 -1.5562072</code></pre>
</div>
</div>
</section>
<section id="replicating-data-sets" class="slide level2">
<h2>Replicating data sets</h2>
<p>Creating one “data set” isn’t enough. We need more.</p>
<div class="cell">
<div class="sourceCode" id="cb91"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">replicate</span>(</span>
<span id="cb91-2"><a href="#cb91-2"></a>  <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb91-3"><a href="#cb91-3"></a>  <span class="at">expr =</span> <span class="fu">data.frame</span>(</span>
<span id="cb91-4"><a href="#cb91-4"></a>    <span class="at">condition =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"control"</span>, <span class="st">"treatment"</span>), <span class="at">each =</span> <span class="dv">2</span>),</span>
<span id="cb91-5"><a href="#cb91-5"></a>    <span class="at">outcome =</span> <span class="fu">rnorm</span>(<span class="dv">4</span>, <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">115</span>), <span class="at">sd =</span> <span class="dv">15</span>)</span>
<span id="cb91-6"><a href="#cb91-6"></a>  ),</span>
<span id="cb91-7"><a href="#cb91-7"></a>  <span class="at">simplify =</span> <span class="cn">FALSE</span></span>
<span id="cb91-8"><a href="#cb91-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[[1]]
  condition   outcome
1   control  86.38442
2   control 144.21596
3 treatment 100.04792
4 treatment 112.80507

[[2]]
  condition  outcome
1   control 113.5496
2   control 114.7502
3 treatment 101.7030
4 treatment 127.2264

[[3]]
  condition   outcome
1   control 128.53812
2   control 119.93447
3 treatment  99.95619
4 treatment 102.77010

[[4]]
  condition   outcome
1   control  92.93538
2   control 112.54882
3 treatment  99.87659
4 treatment 120.94084

[[5]]
  condition   outcome
1   control  60.82896
2   control 110.58693
3 treatment 119.18822
4 treatment 126.65385</code></pre>
</div>
</div>
</section>
<section id="for-loops" class="slide level2">
<h2><code>for</code> loops</h2>
<p>For each element in a vector, do the following:</p>
<div class="cell">
<div class="sourceCode" id="cb93"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="cf">for</span> (variable <span class="cf">in</span> vector) {</span>
<span id="cb93-2"><a href="#cb93-2"></a>  </span>
<span id="cb93-3"><a href="#cb93-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb94"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb94-2"><a href="#cb94-2"></a>  <span class="fu">print</span>(i)</span>
<span id="cb94-3"><a href="#cb94-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9
[1] 10</code></pre>
</div>
</div>
</section>
<section id="same-as-replicate" class="slide level2">
<h2>Same as <code>replicate</code></h2>
<p>Five times we sample and store it in a list. Equivalent to <code>replicate</code> example.</p>
<div class="cell">
<div class="sourceCode" id="cb96"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a>outcome <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb96-2"><a href="#cb96-2"></a></span>
<span id="cb96-3"><a href="#cb96-3"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb96-4"><a href="#cb96-4"></a>  outcome[[i]] <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">size =</span> <span class="dv">2</span>)</span>
<span id="cb96-5"><a href="#cb96-5"></a>}</span>
<span id="cb96-6"><a href="#cb96-6"></a></span>
<span id="cb96-7"><a href="#cb96-7"></a>outcome</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[[1]]
[1] 3 2

[[2]]
[1] 1 2

[[3]]
[1] 1 2

[[4]]
[1] 4 3

[[5]]
[1] 1 4</code></pre>
</div>
</div>
</section>
<section id="get-our-data-sets" class="slide level2">
<h2>Get our data sets</h2>
<div class="cell">
<div class="sourceCode" id="cb98"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a>datasets <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb98-2"><a href="#cb98-2"></a></span>
<span id="cb98-3"><a href="#cb98-3"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb98-4"><a href="#cb98-4"></a>  datasets[[i]] <span class="ot">&lt;-</span> </span>
<span id="cb98-5"><a href="#cb98-5"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb98-6"><a href="#cb98-6"></a>      <span class="at">condition =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"control"</span>, <span class="st">"treatment"</span>), <span class="at">each =</span> <span class="dv">2</span>),</span>
<span id="cb98-7"><a href="#cb98-7"></a>      <span class="at">outcome =</span> <span class="fu">rnorm</span>(<span class="dv">4</span>, <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">115</span>), <span class="at">sd =</span> <span class="dv">15</span>)</span>
<span id="cb98-8"><a href="#cb98-8"></a>    )</span>
<span id="cb98-9"><a href="#cb98-9"></a>}</span>
<span id="cb98-10"><a href="#cb98-10"></a></span>
<span id="cb98-11"><a href="#cb98-11"></a>datasets</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[[1]]
  condition   outcome
1   control  97.99421
2   control 111.00762
3 treatment  99.06100
4 treatment  81.91246

[[2]]
  condition  outcome
1   control 113.0777
2   control 126.1959
3 treatment 102.3874
4 treatment 104.5351

[[3]]
  condition   outcome
1   control 123.36611
2   control 134.27978
3 treatment  70.14792
4 treatment 112.37140

[[4]]
  condition   outcome
1   control 103.39652
2   control 119.44954
3 treatment  81.99905
4 treatment  97.97151

[[5]]
  condition  outcome
1   control 112.8112
2   control 119.5977
3 treatment 112.1696
4 treatment 113.9696</code></pre>
</div>
</div>
</section>
<section id="a-concrete-example" class="slide level2">
<h2>A concrete example</h2>
<p>Let’s model the growth of our department. This year, we have <strong>12</strong> PhD students. Each year, our <strong>4</strong> professors write one grant application. If they get the money, they’ll hire one new PhD student. Their chance of getting the money is <strong>15%</strong>. But academia also sucks sometimes, so each PhD student each year has a <strong>5%</strong> chance of quitting and finally doing something with their lives. How large is the department after <strong>25</strong> years?</p>
</section>
<section id="lets-put-that-into-numbers" class="slide level2">
<h2>Let’s put that into numbers</h2>
<div class="cell">
<div class="sourceCode" id="cb100"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>starting <span class="ot">&lt;-</span> <span class="dv">12</span></span>
<span id="cb100-2"><a href="#cb100-2"></a>profs <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb100-3"><a href="#cb100-3"></a>money <span class="ot">&lt;-</span> <span class="fl">0.15</span></span>
<span id="cb100-4"><a href="#cb100-4"></a>quitting <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb100-5"><a href="#cb100-5"></a>years <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb100-6"><a href="#cb100-6"></a>results <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb100-7"><a href="#cb100-7"></a>results[<span class="dv">1</span>] <span class="ot">&lt;-</span> starting</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="into-a-loop" class="slide level2 scrollable">
<h2>Into a loop</h2>
<div class="cell">
<div class="sourceCode" id="cb101"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb101-2"><a href="#cb101-2"></a><span class="cf">for</span> (current_year <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>years) {</span>
<span id="cb101-3"><a href="#cb101-3"></a>  <span class="co"># how many new phds (15% chance in 4 "trials")</span></span>
<span id="cb101-4"><a href="#cb101-4"></a>  newbies <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">size =</span> profs, <span class="at">prob =</span> money)</span>
<span id="cb101-5"><a href="#cb101-5"></a>  </span>
<span id="cb101-6"><a href="#cb101-6"></a>  <span class="co"># how many see the light and quit</span></span>
<span id="cb101-7"><a href="#cb101-7"></a>  enlightened <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">size =</span> results[current_year  <span class="sc">-</span> <span class="dv">1</span>], <span class="at">prob =</span> quitting)</span>
<span id="cb101-8"><a href="#cb101-8"></a>  </span>
<span id="cb101-9"><a href="#cb101-9"></a>  <span class="co"># new total</span></span>
<span id="cb101-10"><a href="#cb101-10"></a>  results[current_year] <span class="ot">&lt;-</span> results[current_year <span class="sc">-</span> <span class="dv">1</span>] <span class="sc">+</span> newbies <span class="sc">-</span> enlightened</span>
<span id="cb101-11"><a href="#cb101-11"></a>  </span>
<span id="cb101-12"><a href="#cb101-12"></a>  <span class="fu">cat</span>(<span class="st">"Current year:"</span>, current_year, <span class="st">"Newbies:"</span>, newbies, <span class="st">"Enlightened:"</span>, enlightened, <span class="st">"Total:"</span>, results[current_year], <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb101-13"><a href="#cb101-13"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>Current year: 2 Newbies: 2 Enlightened: 2 Total: 12 
Current year: 3 Newbies: 0 Enlightened: 1 Total: 11 
Current year: 4 Newbies: 1 Enlightened: 0 Total: 12 
Current year: 5 Newbies: 1 Enlightened: 0 Total: 13 
Current year: 6 Newbies: 1 Enlightened: 1 Total: 13 
Current year: 7 Newbies: 0 Enlightened: 1 Total: 12 
Current year: 8 Newbies: 2 Enlightened: 0 Total: 14 
Current year: 9 Newbies: 0 Enlightened: 2 Total: 12 
Current year: 10 Newbies: 2 Enlightened: 0 Total: 14 
Current year: 11 Newbies: 0 Enlightened: 1 Total: 13 
Current year: 12 Newbies: 2 Enlightened: 0 Total: 15 
Current year: 13 Newbies: 3 Enlightened: 2 Total: 16 
Current year: 14 Newbies: 0 Enlightened: 1 Total: 15 
Current year: 15 Newbies: 0 Enlightened: 2 Total: 13 
Current year: 16 Newbies: 0 Enlightened: 1 Total: 12 
Current year: 17 Newbies: 1 Enlightened: 1 Total: 12 
Current year: 18 Newbies: 0 Enlightened: 1 Total: 11 
Current year: 19 Newbies: 0 Enlightened: 1 Total: 10 
Current year: 20 Newbies: 0 Enlightened: 0 Total: 10 
Current year: 21 Newbies: 2 Enlightened: 1 Total: 11 
Current year: 22 Newbies: 0 Enlightened: 0 Total: 11 
Current year: 23 Newbies: 0 Enlightened: 2 Total: 9 
Current year: 24 Newbies: 0 Enlightened: 2 Total: 7 
Current year: 25 Newbies: 1 Enlightened: 0 Total: 8 </code></pre>
</div>
</div>
</section>
<section id="plot-and-summarize-the-results" class="slide level2">
<h2>Plot and summarize the results</h2>
<div class="cell">
<div class="sourceCode" id="cb103"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a><span class="fu">mean</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 11.92</code></pre>
</div>
<div class="sourceCode" id="cb105"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="fu">plot</span>(results, <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">xlab =</span> <span class="st">"Year"</span>, <span class="at">ylab =</span> <span class="st">"Number of PhDs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-110-1.png" width="960" class="r-stretch"></section>
<section id="lets-repeat-those-repetitions" class="slide level2">
<h2>Let’s repeat those repetitions</h2>
<p>Let’s run the above simulation several times: a loop in a loop.</p>
<div class="cell">
<div class="sourceCode" id="cb106"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb106-2"><a href="#cb106-2"></a></span>
<span id="cb106-3"><a href="#cb106-3"></a>experiments <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb106-4"><a href="#cb106-4"></a>outcomes <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb106-5"><a href="#cb106-5"></a></span>
<span id="cb106-6"><a href="#cb106-6"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>experiments) {</span>
<span id="cb106-7"><a href="#cb106-7"></a>  </span>
<span id="cb106-8"><a href="#cb106-8"></a>  results <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb106-9"><a href="#cb106-9"></a>  results[<span class="dv">1</span>] <span class="ot">&lt;-</span> starting</span>
<span id="cb106-10"><a href="#cb106-10"></a>  </span>
<span id="cb106-11"><a href="#cb106-11"></a>  <span class="cf">for</span> (current_year <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>years) {</span>
<span id="cb106-12"><a href="#cb106-12"></a>    <span class="co"># how many new phds (15% chance in 4 "trials")</span></span>
<span id="cb106-13"><a href="#cb106-13"></a>    newbies <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">size =</span> profs, <span class="at">prob =</span> money)</span>
<span id="cb106-14"><a href="#cb106-14"></a>    </span>
<span id="cb106-15"><a href="#cb106-15"></a>    <span class="co"># how many see the light and quit</span></span>
<span id="cb106-16"><a href="#cb106-16"></a>    enlightened <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">size =</span> results[current_year <span class="sc">-</span> <span class="dv">1</span>], <span class="at">prob =</span> quitting)</span>
<span id="cb106-17"><a href="#cb106-17"></a>    </span>
<span id="cb106-18"><a href="#cb106-18"></a>    <span class="co"># new total</span></span>
<span id="cb106-19"><a href="#cb106-19"></a>    results[current_year] <span class="ot">&lt;-</span> results[current_year <span class="sc">-</span> <span class="dv">1</span>] <span class="sc">+</span> newbies <span class="sc">-</span> enlightened</span>
<span id="cb106-20"><a href="#cb106-20"></a>    </span>
<span id="cb106-21"><a href="#cb106-21"></a>    <span class="co"># store in overall outcomes</span></span>
<span id="cb106-22"><a href="#cb106-22"></a>    outcomes[[i]] <span class="ot">&lt;-</span> results</span>
<span id="cb106-23"><a href="#cb106-23"></a>  }</span>
<span id="cb106-24"><a href="#cb106-24"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="what-did-we-just-do" class="slide level2">
<h2>What did we just do?</h2>
<div class="cell">
<div class="sourceCode" id="cb107"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a><span class="co"># what we created</span></span>
<span id="cb107-2"><a href="#cb107-2"></a>outcomes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[[1]]
 [1] 12 12 11 12 13 13 12 14 12 14 13 15 16 15 13 12 12 11 10 10 11 11  9  7  8

[[2]]
 [1] 12 13 13 12 11 12 12 10 11 12 11 12 12 12 11 11 11 12 11 12 12 12 13 11 12

[[3]]
 [1] 12 12 12 13 13 13 13 14 14 15 15 15 15 15 15 16 15 14 15 14 14 15 15 15 14</code></pre>
</div>
<div class="sourceCode" id="cb109"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="co"># the means per "experiment"</span></span>
<span id="cb109-2"><a href="#cb109-2"></a><span class="fu">lapply</span>(outcomes, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[[1]]
[1] 11.92

[[2]]
[1] 11.72

[[3]]
[1] 14.12</code></pre>
</div>
</div>
</section>
<section id="lets-have-a-look" class="slide level2">
<h2>Let’s have a look</h2>
<div class="cell">
<div class="sourceCode" id="cb111"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a><span class="co"># the mean of the means</span></span>
<span id="cb111-2"><a href="#cb111-2"></a><span class="fu">mean</span>(<span class="fu">sapply</span>(outcomes, mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] 12.58667</code></pre>
</div>
<div class="sourceCode" id="cb113"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a><span class="fu">matplot</span>(<span class="fu">matrix</span>(<span class="fu">unlist</span>(outcomes), <span class="at">ncol =</span> <span class="dv">3</span>), <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">xlab =</span> <span class="st">"Year"</span>, <span class="at">ylab =</span> <span class="st">"Number of PhDs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-116-1.png" width="960" class="r-stretch"></section>
<section id="what-if-we-want-to-change-stuff" class="slide level2">
<h2>What if we want to change stuff?</h2>
<p>If we want to quickly change a parameter, it makes sense to turn this all into a function.</p>
<div class="cell">
<div class="sourceCode" id="cb114"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>counting_phds <span class="ot">&lt;-</span> </span>
<span id="cb114-2"><a href="#cb114-2"></a>  <span class="cf">function</span>(</span>
<span id="cb114-3"><a href="#cb114-3"></a>    <span class="at">starting =</span> <span class="dv">12</span>,</span>
<span id="cb114-4"><a href="#cb114-4"></a>    <span class="at">profs =</span> <span class="dv">4</span>,</span>
<span id="cb114-5"><a href="#cb114-5"></a>    <span class="at">money =</span> <span class="fl">0.15</span>,</span>
<span id="cb114-6"><a href="#cb114-6"></a>    <span class="at">quitting =</span> <span class="fl">0.05</span>,</span>
<span id="cb114-7"><a href="#cb114-7"></a>    <span class="at">years =</span> <span class="dv">25</span></span>
<span id="cb114-8"><a href="#cb114-8"></a>  ) {</span>
<span id="cb114-9"><a href="#cb114-9"></a>    </span>
<span id="cb114-10"><a href="#cb114-10"></a>    <span class="co"># create our output vector</span></span>
<span id="cb114-11"><a href="#cb114-11"></a>    results <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb114-12"><a href="#cb114-12"></a>    results[<span class="dv">1</span>] <span class="ot">&lt;-</span> starting</span>
<span id="cb114-13"><a href="#cb114-13"></a>    </span>
<span id="cb114-14"><a href="#cb114-14"></a>    <span class="co"># then our loop</span></span>
<span id="cb114-15"><a href="#cb114-15"></a>    <span class="cf">for</span> (current_year <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>years) {</span>
<span id="cb114-16"><a href="#cb114-16"></a>      <span class="co"># how many new phds</span></span>
<span id="cb114-17"><a href="#cb114-17"></a>      newbies <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">size =</span> profs, <span class="at">prob =</span> money)</span>
<span id="cb114-18"><a href="#cb114-18"></a>      </span>
<span id="cb114-19"><a href="#cb114-19"></a>      <span class="co"># how many see the light and quit</span></span>
<span id="cb114-20"><a href="#cb114-20"></a>      enlightened <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">size =</span> results[current_year <span class="sc">-</span> <span class="dv">1</span>], <span class="at">prob =</span> quitting)</span>
<span id="cb114-21"><a href="#cb114-21"></a>      </span>
<span id="cb114-22"><a href="#cb114-22"></a>      <span class="co"># new total</span></span>
<span id="cb114-23"><a href="#cb114-23"></a>      results[current_year] <span class="ot">&lt;-</span> results[current_year <span class="sc">-</span> <span class="dv">1</span>] <span class="sc">+</span> newbies <span class="sc">-</span> enlightened</span>
<span id="cb114-24"><a href="#cb114-24"></a>    }</span>
<span id="cb114-25"><a href="#cb114-25"></a>    </span>
<span id="cb114-26"><a href="#cb114-26"></a>    <span class="fu">return</span>(results)</span>
<span id="cb114-27"><a href="#cb114-27"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lets-call-that-function" class="slide level2">
<h2>Let’s call that function</h2>
<p>Now we can change parameters of the “experiment” as we wish.</p>
<div class="cell">
<div class="sourceCode" id="cb115"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a><span class="fu">counting_phds</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] 12 12 10 10 11 12 12 12 11 13 14 15 15 15 16 15 15 15 15 15 15 15 16 16 15</code></pre>
</div>
<div class="sourceCode" id="cb117"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="fu">counting_phds</span>(<span class="at">profs =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] 12 12 12 13 14 16 18 17 20 21 21 22 21 22 22 23 21 20 21 21 22 23 26 23 24</code></pre>
</div>
<div class="sourceCode" id="cb119"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a><span class="fu">counting_phds</span>(<span class="at">years =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] 12 11 11 12 12 10 10 10  9  9</code></pre>
</div>
<div class="sourceCode" id="cb121"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a><span class="fu">counting_phds</span>(<span class="at">quitting =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code> [1] 12 13 14 15 15 15 17 17 17 18 18 20 21 21 22 22 22 23 23 23 23 23 23 23 23</code></pre>
</div>
</div>
</section>
<section id="running-experiments-one-more-time" class="slide level2">
<h2>Running experiments one more time</h2>
<p>We can do the loop in a loop again, but this time we just call the function.</p>
<div class="cell">
<div class="sourceCode" id="cb123"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb123-2"><a href="#cb123-2"></a></span>
<span id="cb123-3"><a href="#cb123-3"></a>experiments <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb123-4"><a href="#cb123-4"></a>outcomes <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb123-5"><a href="#cb123-5"></a></span>
<span id="cb123-6"><a href="#cb123-6"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>experiments) {</span>
<span id="cb123-7"><a href="#cb123-7"></a>  </span>
<span id="cb123-8"><a href="#cb123-8"></a>  <span class="co"># run one experiment and store the results</span></span>
<span id="cb123-9"><a href="#cb123-9"></a>  results <span class="ot">&lt;-</span> <span class="fu">counting_phds</span>()</span>
<span id="cb123-10"><a href="#cb123-10"></a>  </span>
<span id="cb123-11"><a href="#cb123-11"></a>  <span class="co"># put results into our outcomes</span></span>
<span id="cb123-12"><a href="#cb123-12"></a>  outcomes[[i]] <span class="ot">&lt;-</span> results</span>
<span id="cb123-13"><a href="#cb123-13"></a></span>
<span id="cb123-14"><a href="#cb123-14"></a>}</span>
<span id="cb123-15"><a href="#cb123-15"></a></span>
<span id="cb123-16"><a href="#cb123-16"></a>outcomes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[[1]]
 [1] 12 12 11 12 13 13 12 14 12 14 13 15 16 15 13 12 12 11 10 10 11 11  9  7  8

[[2]]
 [1] 12 13 13 12 11 12 12 10 11 12 11 12 12 12 11 11 11 12 11 12 12 12 13 11 12

[[3]]
 [1] 12 12 12 13 13 13 13 14 14 15 15 15 15 15 15 16 15 14 15 14 14 15 15 15 14</code></pre>
</div>
</div>
</section>
<section id="combining-it-all" class="slide level2">
<h2>Combining it all</h2>
<p>Now we can iterate (aka loop) over different arguments of our experiment. Let’s see what happens if we run 3 experiments, each with a different number of profs. We’ll store the total at the end of the time period for each run.</p>
<div class="cell">
<div class="sourceCode" id="cb125"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb125-2"><a href="#cb125-2"></a></span>
<span id="cb125-3"><a href="#cb125-3"></a>experiments <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb125-4"><a href="#cb125-4"></a>profs <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb125-5"><a href="#cb125-5"></a>years <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb125-6"><a href="#cb125-6"></a>outcomes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb125-7"><a href="#cb125-7"></a>  <span class="at">experiment =</span> <span class="cn">NULL</span>,</span>
<span id="cb125-8"><a href="#cb125-8"></a>  <span class="at">prof =</span> <span class="cn">NULL</span>,</span>
<span id="cb125-9"><a href="#cb125-9"></a>  <span class="at">total =</span> <span class="cn">NULL</span></span>
<span id="cb125-10"><a href="#cb125-10"></a>)</span>
<span id="cb125-11"><a href="#cb125-11"></a></span>
<span id="cb125-12"><a href="#cb125-12"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>experiments) {</span>
<span id="cb125-13"><a href="#cb125-13"></a>  </span>
<span id="cb125-14"><a href="#cb125-14"></a>  <span class="co"># for each run/experiment, we store the results for each number of professors</span></span>
<span id="cb125-15"><a href="#cb125-15"></a>  <span class="cf">for</span> (aprof <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>profs) {</span>
<span id="cb125-16"><a href="#cb125-16"></a>    results <span class="ot">&lt;-</span> <span class="fu">counting_phds</span>(<span class="at">profs =</span> aprof, <span class="at">years =</span> years)</span>
<span id="cb125-17"><a href="#cb125-17"></a>    </span>
<span id="cb125-18"><a href="#cb125-18"></a>    <span class="co"># get the total at the last year</span></span>
<span id="cb125-19"><a href="#cb125-19"></a>    total <span class="ot">&lt;-</span> results[years]</span>
<span id="cb125-20"><a href="#cb125-20"></a>    </span>
<span id="cb125-21"><a href="#cb125-21"></a>    <span class="co"># turn into a row and add to outcomes</span></span>
<span id="cb125-22"><a href="#cb125-22"></a>    our_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">experiment =</span> i, <span class="at">prof =</span> aprof, <span class="at">total =</span> total)</span>
<span id="cb125-23"><a href="#cb125-23"></a>    outcomes <span class="ot">&lt;-</span> <span class="fu">rbind</span>(outcomes, our_row)</span>
<span id="cb125-24"><a href="#cb125-24"></a>  }</span>
<span id="cb125-25"><a href="#cb125-25"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lets-plot" class="slide level2">
<h2>Let’s plot</h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-126-1.png" width="960" class="r-stretch"></section>
<section id="now-lets-expand" class="slide level2">
<h2>Now let’s expand</h2>
<div class="cell">
<div class="sourceCode" id="cb126"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb126-2"><a href="#cb126-2"></a></span>
<span id="cb126-3"><a href="#cb126-3"></a>experiments <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb126-4"><a href="#cb126-4"></a>profs <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb126-5"><a href="#cb126-5"></a>years <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb126-6"><a href="#cb126-6"></a>outcomes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb126-7"><a href="#cb126-7"></a>  <span class="at">experiment =</span> <span class="cn">NULL</span>,</span>
<span id="cb126-8"><a href="#cb126-8"></a>  <span class="at">prof =</span> <span class="cn">NULL</span>,</span>
<span id="cb126-9"><a href="#cb126-9"></a>  <span class="at">total =</span> <span class="cn">NULL</span></span>
<span id="cb126-10"><a href="#cb126-10"></a>)</span>
<span id="cb126-11"><a href="#cb126-11"></a></span>
<span id="cb126-12"><a href="#cb126-12"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>experiments) {</span>
<span id="cb126-13"><a href="#cb126-13"></a>  </span>
<span id="cb126-14"><a href="#cb126-14"></a>  <span class="co"># for each run/experiment, we store the results for each number of professors</span></span>
<span id="cb126-15"><a href="#cb126-15"></a>  <span class="cf">for</span> (aprof <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>profs) {</span>
<span id="cb126-16"><a href="#cb126-16"></a>    results <span class="ot">&lt;-</span> <span class="fu">counting_phds</span>(<span class="at">profs =</span> aprof, <span class="at">years =</span> years)</span>
<span id="cb126-17"><a href="#cb126-17"></a>    </span>
<span id="cb126-18"><a href="#cb126-18"></a>    <span class="co"># get the total at the last year</span></span>
<span id="cb126-19"><a href="#cb126-19"></a>    total <span class="ot">&lt;-</span> results[years]</span>
<span id="cb126-20"><a href="#cb126-20"></a>    </span>
<span id="cb126-21"><a href="#cb126-21"></a>    <span class="co"># turn into a row and add to outcomes</span></span>
<span id="cb126-22"><a href="#cb126-22"></a>    our_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">experiment =</span> i, <span class="at">prof =</span> aprof, <span class="at">total =</span> total)</span>
<span id="cb126-23"><a href="#cb126-23"></a>    outcomes <span class="ot">&lt;-</span> <span class="fu">rbind</span>(outcomes, our_row)</span>
<span id="cb126-24"><a href="#cb126-24"></a>  }</span>
<span id="cb126-25"><a href="#cb126-25"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lets-summarize-and-plot" class="slide level2">
<h2>Let’s summarize and plot</h2>
<p>With those parameters, does it make sense to have more profs?</p>
<div class="cell">

<div class="cell-output-stdout">
<pre><code>  Group.1      x
1       1  8.630
2       2  9.750
3       3 10.819
4       4 12.023</code></pre>
</div>
</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-130-1.png" width="960" class="r-stretch"></section>
<section id="a-note-on-efficiency" class="slide level2">
<h2>A note on efficiency</h2>
<p>Right now, we’re appending our data to an object that grows with each iteration:</p>
<div class="cell">
<div class="sourceCode" id="cb128"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1"></a><span class="co"># turn into a row and add to outcomes</span></span>
<span id="cb128-2"><a href="#cb128-2"></a>our_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">experiment =</span> i, <span class="at">prof =</span> aprof, <span class="at">total =</span> total)</span>
<span id="cb128-3"><a href="#cb128-3"></a>outcomes <span class="ot">&lt;-</span> <span class="fu">rbind</span>(outcomes, our_row)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This procedure helps with explaining the logic, but is inefficient. It’s much faster to <a href="https://r4ds.had.co.nz/iteration.html">pre-allocate</a> space:</p>
<div class="cell">
<div class="sourceCode" id="cb129"><pre class="sourceCode numberSource r cell-code number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a>outcomes <span class="ot">&lt;-</span> </span>
<span id="cb129-2"><a href="#cb129-2"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb129-3"><a href="#cb129-3"></a>    <span class="at">experiment =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>years, <span class="at">each =</span> profs),</span>
<span id="cb129-4"><a href="#cb129-4"></a>    <span class="at">prof =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>profs, <span class="at">times =</span> years),</span>
<span id="cb129-5"><a href="#cb129-5"></a>    <span class="at">total =</span> <span class="cn">NA</span></span>
<span id="cb129-6"><a href="#cb129-6"></a>  )</span>
<span id="cb129-7"><a href="#cb129-7"></a></span>
<span id="cb129-8"><a href="#cb129-8"></a>outcomes<span class="sc">$</span>total[i] <span class="ot">&lt;-</span> total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For your own simulations, when efficiency matters, you should always pre-allocate space.</p>
</section></section>
<section>
<section id="lets-get-simulating" class="title-slide slide level1 center">
<h1>Let’s get simulating</h1>

</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-trisovic2022" class="csl-entry" role="doc-biblioentry">
Trisovic, Ana, Matthew K. Lau, Thomas Pasquier, and Mercè Crosas. 2022. <span>“A Large-Scale Study on Research Code Quality and Execution.”</span> <em>Scientific Data</em> 9 (1): 60. <a href="https://doi.org/10.1038/s41597-022-01143-6">https://doi.org/10.1038/s41597-022-01143-6</a>.
</div>
</div>

<div class="footer footer-default">
<p><a href="https://niklasjohannes.github.io/power-workshop/" class="uri">https://niklasjohannes.github.io/power-workshop/</a></p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../site_libs/revealjs/dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  <script src="../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>


  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,

'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false},
'smaller': false,

        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        setTimeout(function() {
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>